<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <script>
      (function () {
        try {
          const storedTheme = localStorage.getItem("theme");
          const osPrefersDark = window.matchMedia(
            "(prefers-color-scheme: dark)"
          ).matches;

          let initialTheme = "emerald";

          if (storedTheme) {
            initialTheme = storedTheme;
          } else if (osPrefersDark) {
            initialTheme = "night";
          }

          document.documentElement.setAttribute("data-theme", initialTheme);
        } catch (e) {
          console.log("Theme detection failed", e);
        }
      })();
    </script>

    <title>Mazda Nawallsyah - Portfolio Front-End Dev</title>
    <link
      rel="icon"
      type="image/png"
      href="https://res.cloudinary.com/dr7olcn4r/image/upload/v1761388118/croppedsebelumgembuldanmenjadijawir_cdep6a.png"
    />

    <style>
      body {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        overflow-x: hidden;
      }

      :root {
        --bg-loading: #ffffff;
        --text-loading: #333333;
        --spinner-color: #10b981; 
      }

      @media (prefers-color-scheme: dark) {
        :root {
          --bg-loading: #0f1729; 
          --text-loading: #cbd5e1;
          --spinner-color: #38bdf8; 
        }
      }

      /* ---------------------------------------------------------
         Background = base-100 tema
         Spinner = primary color tema
      --------------------------------------------------------- */

      /* --- GROUP: LIGHT THEMES --- */
      html[data-theme="emerald"] .loading-container {
        background-color: #ffffff !important;
        color: #333333 !important;
        --spinner-override: #66cc8a;
      }

      html[data-theme="garden"] .loading-container {
        background-color: #e9e7e7 !important; 
        color: #1f2937 !important;
        --spinner-override: #5c7f67; 
      }

      html[data-theme="light"] .loading-container {
        background-color: #ffffff !important;
        color: #1f2937 !important;
        --spinner-override: #570df8; 
      }

      html[data-theme="corporate"] .loading-container {
        background-color: #ffffff !important;
        color: #1f2937 !important;
        --spinner-override: #4b6bfb; 
      }

      /* --- GROUP: DARK THEMES --- */
      html[data-theme="synthwave"] .loading-container {
        background-color: #0a002f !important; 
        color: #f9f9f9 !important;
        --spinner-override: #e779c1; 
      }

      html[data-theme="night"] .loading-container {
        background-color: #0f1729 !important; 
        color: #cbd5e1 !important;
        --spinner-override: #38bdf8; 
      }

      html[data-theme="dark"] .loading-container {
        background-color: #1d232a !important; 
        color: #a6adbb !important;
        --spinner-override: #7480ff; 
      }

      html[data-theme="business"] .loading-container {
        background-color: #212121 !important; 
        color: #a6adbb !important;
        --spinner-override: #1c4f82; 
      }

      html[data-theme="dim"] .loading-container {
        background-color: #2a303c !important; 
        color: #a6adbb !important;
        --spinner-override: #9fe88d; 
      }

      html[data-theme="black"] .loading-container {
        background-color: #000000 !important; 
        color: #a6adbb !important;
        --spinner-override: #333333; 
      }

      html[data-theme="abyss"] .loading-container {
        background-color: #050505 !important; 
        color: #cbd5e1 !important;
        --spinner-override: #d926a9; 
      }

      .loading-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
        width: 100vw;
        font-family: system-ui, -apple-system, sans-serif;

        background-color: var(--bg-loading);
        color: var(--text-loading);
        transition: background-color 0.2s ease;
      }

      .loading-spinner {
        height: 3rem;
        width: 3rem;
        border-radius: 50%;
        background-color: var(--spinner-override, var(--spinner-color));
        animation: pulse 0.9s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        box-shadow: 0 0 15px var(--spinner-override, var(--spinner-color));
      }

      .loading-text {
        margin-top: 1.5rem;
        font-weight: 600;
        font-size: 0.9rem;
        letter-spacing: 0.05em;
        text-transform: uppercase;
        opacity: 0.8;
      }

      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
          transform: scale(1);
        }
        50% {
          opacity: 0.4;
          transform: scale(0.85);
        }
      }
    </style>
  </head>

  <body>
    <div id="root">
      <div class="loading-container">
        <span class="loading-spinner" aria-label="Loading"></span>
        <p class="loading-text">Memuat Data...</p>
      </div>
    </div>

    <noscript>
      <div
        style="
          display: flex;
          height: 100vh;
          justify-content: center;
          align-items: center;
          background: #111;
          color: #fff;
        "
      >
        <h1>JavaScript Diperlukan!</h1>
        <p>
          Mohon aktifkan JavaScript pada web browser anda untuk melihat
          portofolio Mazda Nawallsyah.
        </p>
      </div>
    </noscript>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
